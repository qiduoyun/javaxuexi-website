<!DOCTYPE HTML>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<head>
<title>Linux常见故障处理方法 - java学习网</title>
    <link rel="stylesheet" href="/r/cms/www/default/css/xiangmu.css">
	<link rel="stylesheet" href="/editor/themes/default/default.css" />
	<link rel="stylesheet" href="/editor/plugins/code/prettify.css" />
	<script src="/r/cms/www/default/js/jquery-3.1.0-min.js"></script>
	<script charset="utf-8" src="/editor/kindeditor.js"></script>
	<script charset="utf-8" src="/editor/lang/zh_CN.js"></script>
	<script charset="utf-8" src="/editor/plugins/code/prettify.js"></script>
	<script src="/r/cms/front.js" type="text/javascript"></script>
	
</head>

<script type="text/javascript">
$(function() {
		Cms.attachment("","1102","0","attach");
		Cms.viewCount("","1102");
		Cms.siteFlow("", location.href, document.referrer);
	    prettyPrint();
	});
</script>

<style>
pre.prettyprint{
background-color: #fff;
border:2px solid #e2e2e2;
white-space: pre;
overflow:auto;
}
</style>
<body style="margin:0 0;">
<div style="width:1100px; margin:0 auto;height:120px; margin-top:20px;">
    <span style="float:left;">
	<a href="http://www.javaxuexi.net:80/" style="cursor:point;border:0;">
	  <img height="100" src="/r/cms/www/default/img/javaxuexi_logo.gif"/>
	</a>
	</span>
	<form action="/search.jspx" target="_blank" id="searchForm">
		<span style="float:right; margin-top:33px;">
		   <span style=" border:1px solid #888;height:32px; display:block; float:left; width:350px;">
		     <input name="q" value="" style="border:none;height:30px; width:346px;" type="text"/>
		   </span>
		   <span style="display:block; float:left;height:32px; background-color:#888; border:1px solid #888;">
		     <input class="xm-s-bt" style="height:32px; border:none;" type="submit" value="搜索一下"/>
		   </span>
		</span>
	</form>
</div>

<div style="width:100%; background:#20b573;">
   <div style="width:1100px; margin:0 auto;">
     <span style="float:left; font-size:18px;">
	     <dl style="margin:20px 0;">
		   <dt>
		   <a href="http://www.javaxuexi.net:80/" style="font-weight:600;">首页</a>
		   </dt>
		 </dl>
	 </span>
     <ul style="list-style:none; margin:0; padding:0; float:right; font-size:18px;color:#333;">
       <li style="float:left; width:150px; text-align:center;">
	     <dl style="margin:20px 0;">
		   <dt>
		   <a href="http://www.javaxuexi.net:80/webstudy/index.jhtml" target="_blank" style="font-weight:600;" >Web学习</a>
		   </dt>
		 </dl>
	   </li>
       <li style="float:left; width:150px; text-align:center;">
	     <dl style="margin:20px 0;">
		   <dt>
		   <a href="http://www.javaxuexi.net:80/framework/index.jhtml" target="_blank" style="font-weight:600;" >框架专区</a>
		   </dt>
		 </dl>
	   </li>
       <li style="float:left; width:150px; text-align:center;">
	     <dl style="margin:20px 0;">
		   <dt>
		   <a href="http://www.javaxuexi.net:80/download/index.jhtml" target="_blank" style="font-weight:600;" >软件工具下载</a>
		   </dt>
		 </dl>
	   </li>
       <li style="float:left; width:150px; text-align:center;">
	     <dl style="margin:20px 0;">
		   <dt>
		   <a href="http://www.javaxuexi.net:80/entertainment/index.jhtml" target="_blank" style="font-weight:600;" >生活娱乐</a>
		   </dt>
		 </dl>
	   </li>
       <li style="float:left; width:150px; text-align:center;">
	     <dl style="margin:20px 0;">
		   <dt>
		   <a href="http://www.javaxuexi.net:80/photo/index.jhtml" target="_blank" style="font-weight:600;" >图片专区</a>
		   </dt>
		 </dl>
	   </li>
       <li style="float:left; width:150px; text-align:center;">
	     <dl style="margin:20px 0;">
		   <dt>
		   <a href="http://www.javaxuexi.net:80/games/index.jhtml" target="_blank" style="font-weight:600;" >知识拓展</a>
		   </dt>
		 </dl>
	   </li>
	 </ul>
   </div>
   <div style="clear:both;"></div>
</div>
<div style="width: 1100px;margin: 20px auto;">
<script type="text/javascript">
    /*（生活娱乐）960*60 创建于 2015-10-30*/
    var cpro_id = "u2376992";
</script>
<script type="text/javascript" src="http://cpro.baidustatic.com/cpro/ui/c.js"></script>

  <div style="clear: both;"></div>
</div>

<div style="width: 1100px;margin: 20px auto;">
  <div style="width: 780px;float: left;">
     <h3 style="border-bottom: 1px solid #20b573;color: #333;margin: 0;">
       <a style="display:inline-block;padding-top: 8px;padding-bottom:7px;background-color: #20b573;" href="/jx/yingjianyuweihu/20151109/1102.html" title="Linux常见故障处理方法">Linux常见故障处理方法</a>
       <span style="float: right;font-size: 14px;color: #888;margin-top: 10px;">蘑菇&nbsp;&nbsp;发布于    2015-11-09 13:13:08</span>
     </h3>
     <p><img alt="" src="/u/cms/www/201511/09131020d8dl.jpg" style="width: 220px; height: 220px;" /></p>
<p>1．使用急救盘组进行维护<br />
	　　急救盘组（也称为boot/root盘组），是系统管理员必不可少的工具。用它可以独立启动和运行一个完整的Linux系统。实际上，急救盘组中的第二张盘上就有一个完整的Linux系统，包括root文件系统；而第一张盘则存放了可启动的内核。<br />
	　　使用急救盘组维护系统很简单。只需用这两张盘启动系统后，进入急救模式，这时使用的是root账户。为了能访问硬盘上的文件，需要手工安装硬盘文件系统。例如用下面的命令可在/mnt目录中安装/dev/hda2盘上的ext2fs类型的Linux文件系统：<br />
	　　＃ monut －t ext2/dev/hda2/mnt<br />
	　　注：现在根目录是急救盘上的根目录。为了访问硬盘文件系统中的文件，必须先把它安装到某个目录下，如果将硬盘上文件系统安装在/mnt目录下，则硬盘上原来的/etc/passwd文件的路径就是/mnt/etc/passwd。<br />
	　　2．文件系统被破坏时的处理方法<br />
	　　当文件系统被破坏时，如果使用的是ext2fs类型的文件系统，就可从软盘运行e2fsck命令来修正文件系统中被损坏的数据。对于其他类型的文件系统，可以使用相应的fsck命令。当从软盘上检查文件系统时，最好不要用mount命令安装。<br />
	　　注：文件系统被破坏的常见原因是超级块被损坏，超级块是文件系统的&ldquo;头部&rdquo;。它包含文件系统的状态、尺寸和空闲磁盘块等信息。如果损坏了一个文件系统的超级块（例如不小心直接将数据写到了文件系统的超级块分区中），那么Linux可能会完全不识别该文件系统，这样也就不能安装它了，即使采用e2fsck命令也不能处理这个问题。<br />
	　　不过，ext2fs类型的文件系统将超级块的内容进行了备份，并存放于驱动程序的块组（block group）边界。可以用如下的命令通知e2fsck使用超级块的备份：<br />
	　　＃ e2fsck －b 8193<br />
	　　－b 8193选项用于显示存放在文件系统中的8193块的超级块的备份数据。<br />
	　　3．恢复丢失的文件<br />
	　　如果不小心删除了重要的文件，还可以将相应的文件从急救盘复制到硬盘上。例如，删除了文件/bin/login，此时系统无法正常运行到登录界面，可以用急救盘组启动系统，将硬盘文件系统安装到/mnt目录下，然后使用下述命令：<br />
	　　＃cp －a /bin/login /mnt/bin<br />
	　　&ldquo;－a&rdquo;选项用于告诉cp在拷贝时保持文件的访问权限。当然如果被删除的基本文件不在&ldquo;急救盘组&rdquo;中，也就不能用这种方法了。如果以前做过系统备份的话，那么就只有用以前的备份来恢复了。<br />
	　　4．函数库破坏时的处理方法<br />
	　　如果不小心将系统函数库文件破坏了，或者破坏了/lib目录下符号链接，那么将导致依赖这些库的命令无法执行。最简单的解决办法是用急救盘组启动系统，在/mnt目录中安装硬盘文件系统，然后修复/mnt/lib目录下的库。<br />
	　　5.无法用root账号登录系统<br />
	　　由于系统管理员的疏忽，或者由于系统受到黑客的入侵，系统管理员可能无法用root帐号登录系统。<br />
	　　对于第1种情况，可能是系统管理员忘记了root密码，用急救盘组就可以解决问题。<br />
	　　对于第2种情况，由于很可能是密码被黑客修改了，因此系统管理员无法进入系统，也就是说，Linux系统完全失去了控制，因此应尽快重新获得系统的控制权。在取得 root权限后，还应检查系统被破坏的情况，以防被黑客再次入侵。需要做的最主要的工作就是重新设置root的密码，获得Linux操作系统的控制权。首先用急救盘组启动系统，然后将硬盘的文件系统安装到/mnt目录下，编辑/mnt/etc/passwd文件，将其对应于root账户的一行加密口令域置空，如下所示：<br />
	　　root::0:0:root:/root:bin/bash<br />
	　　注：如果系统使用 shadow工具，就需要对文件/etc/shadow进行上述的操作，使root登录系统不需要口令。<br />
	　　这样，root账户就没有口令了。当重新从硬盘启动Linux系统时，就可以用root账户登录（系统不会要求输入密码）。进入系统后，再用命令passwd设置新的口令。<br />
	　　6．系统不能启动<br />
	　　一般来说，如果系统管理员不能正常进入系统，就需要考虑使用急救盘组进入急救模式排除系统的故障。但在没有制作急救盘组的情况下，Linux系统不能启动，该怎么办呢？<br />
	　　在个人计算机使用 Linux系统时，通常都是Linux和MS Windows 9X或MS Windows NT并存的。<br />
	　　由于重新安装其他的操作系统，经常会导致原有的Linux不能启动。这主要是因为，这些操作系统默认为计算机中没有其他的操作系统，因而改写了硬盘的主引导记录（MBR），覆盖掉了Linux的LILO系统引导程序。<br />
	　　如果有急救盘组，那么很简单，用第一张启动盘启动硬盘的Linux系统，重新运行LILO命令，就可以将LILO系统引导程序写回硬盘的主引导记录，再次开机即可。<br />
	　　如果没有系统启动盘，如果知道Linux在硬盘上的确切安装分区，且有loadlin程序，就可以重新返回Linux。loadlin是DOS下的程序，运行它可以从DOS下直接启动Linux，快速进入Linux环境。在 Red Hat Linux 6.0光盘的 dosutil目录下就有这个程序。除此之外，还需要一个 Linux启动内核的映像文件vmlinuz，在 Red Hat linux 6.0光盘的 images目录下就有这个文件。<br />
	　　例如，在Windows 98系统下面，进入DOS的单用户模式，然后运行下述的loadlin命令，即可重新进入Linux系统：<br />
	　　loadlin vmlinuz root=/dev/hda8<br />
	　　/dev/hda8是Linux的root文件系统所在的硬盘分区位置。命令执行后，就开始引导Linux系统。用root身份登录后，运行LILO命令，则重新将LILO装入MBR，回到以前多操作系统并存使用的状态。<br />
	　　7．处理不正常关机引起的故障<br />
	　　如果Linux不正常关机，有可能导致不能进入Linux的KDE环境而只能处于控制台环境下，而且不断地有大片大片的英文字符向上翻滚。以root身份login后，键入startx命令，出现&ldquo;x server不能连接&rdquo;的错误提示。<br />
	　　这时可以在控制台下，键入setup，出现系统设置菜单，选择其中的&ldquo;X窗口设置&rdquo;，然后依照提示正确设置显示器的类型、刷新频率、显存大小、分辨率等。如果一切无误，系统会自动启动X Windows系统，一切便OK了！需要注意的一点是：在用setup进行设置时，可能还会有大片大片的英文字符向上翻滚，请不要惊慌，看清屏幕，继续使用TAB键或方向键，马上便会&ldquo;如鱼得水&rdquo;的。<br />
	&nbsp;</p>

     
         <ul>
            <li><strong>上一篇：</strong><a href="/jx/yingjianyuweihu/20151109/1103.html">Linux如何上网</a></li>
            <li><strong>下一篇：</strong><a href="/jx/yingjianyuweihu/20151109/1101.html">  Linux操作系统经典应用技巧 </a></li>
         </ul>
         
     <div style="clear: both;"></div>    
  </div>
  <div style="width: 300px;float: right;border-left: 1px solid #ccc;border-right: 1px solid #ccc;border-top: 1px solid #ccc;">
     <span style="display: block;padding-top: 10px;padding-bottom: 10px;padding-left: 15px;background-color: #fafbfc;border-bottom: 1px solid #ccc;">相关内容</span>
     <dl>
       <dt style="color:#333;font-size: 18px;padding: 0 10px;"><a href="/jx/wangluozhishi/20161017/1705.html" target="_blank" title="电脑出现能用QQ能玩玩游戏、但是不能打开网页的现象 ">电脑出现能用QQ能玩玩游戏、但是...</a></dt>
       <dt style="color: #888;font-size: 14px;margin-top:10px;padding: 0 10px;">
	电脑出现能用QQ能玩玩游戏、但是不能打开网页的现象&nbsp; 


	&nbsp;这种情况是DNS解析的问题，建议在路由器和计算机网卡上手动设置DNS服务器地址(ISP局端提供的地址)。另外，在“DHCP服务”设置项，也手动...</dt>
     </dl>	   		                                
     <dl>
       <dt style="color:#333;font-size: 18px;padding: 0 10px;"><a href="/jx/wangluozhishi/20151223/1605.html" target="_blank" title=" 宽带路由器线路不通，无法建立连接 "> 宽带路由器线路不通，无法建立...</a></dt>
       <dt style="color: #888;font-size: 14px;margin-top:10px;padding: 0 10px;">
	&nbsp;宽带路由器线路不通，无法建立连接&nbsp; 


	1.&nbsp;用网线将路由器的WAN口与ADSL&nbsp;Modem相连，电话线连ADSL&nbsp;Modem的“Line”口。ADSL&nbsp;Modem与宽带路由器之间的连接应当使用直通线。&...</dt>
     </dl>	   		                                
     <dl>
       <dt style="color:#333;font-size: 18px;padding: 0 10px;"><a href="/jx/wangluozhishi/20151223/1606.html" target="_blank" title="为什么上网一段时间后就掉线，关闭路由器后再开启又可以连通 ">为什么上网一段时间后就掉线，关...</a></dt>
       <dt style="color: #888;font-size: 14px;margin-top:10px;padding: 0 10px;">
	为什么上网一段时间后就掉线，关闭路由器后再开启又可以连通&nbsp; 


	1)&nbsp;网络中过多DHCP服务器引起IP地址混乱。您需要将网络中的所有DHCP服务器关闭，使用手动指定IP地址方式或仅保留一个DHCP服务器...</dt>
     </dl>	   		                                
     <dl>
       <dt style="color:#333;font-size: 18px;padding: 0 10px;"><a href="/jx/wangluozhishi/20151223/1607.html" target="_blank" title="Netstat用于显示与IP、TCP、UDP和ICMP协议相关的统计数据">Netstat用于显示与IP、TCP、UDP...</a></dt>
       <dt style="color: #888;font-size: 14px;margin-top:10px;padding: 0 10px;">
	Netstat用于显示与IP、TCP、UDP和ICMP协议相关的统计数据，一般用于检验本机各端口的网络连接情况。
&nbsp;&nbsp;&nbsp;&nbsp;如果你的计算机有时候接收到的数据报导致出错数据或故障，你不必感到奇怪，TCP/IP...</dt>
     </dl>	   		                                
     <dl>
       <dt style="color:#333;font-size: 18px;padding: 0 10px;"><a href="/jx/wangluozhishi/20151223/1608.html" target="_blank" title="tracert路由器追踪命令">tracert路由器追踪命令</a></dt>
       <dt style="color: #888;font-size: 14px;margin-top:10px;padding: 0 10px;">
	tracert路由器追踪命令

 Tracert（跟踪路由）是路由跟踪实用程序，用于确定&nbsp;IP&nbsp;数据报访问目标所采取的路径。 


	该命令用&nbsp;IP&nbsp;生存时间&nbsp;(TTL)&nbsp;字段和&nbsp;ICMP&nbsp;错...</dt>
     </dl>	   		                                
<script type="text/javascript">
    /*300*250矩形*/
    var cpro_id = "u2790529";
</script>
<script type="text/javascript" src="http://cpro.baidustatic.com/cpro/ui/c.js"></script>
  </div>
  <div style="clear: both;"></div>
</div>

<div style="width:1100px; background-color:#fafbfc; margin:20px auto; border:1px solid #ccc; min-height:120px;">
   <div style="width:1100px; margin:0 auto; background-color:#20b573;">
     <span style=" display:block; width:100px; padding-top:10px; padding-bottom:10px; text-align:center; float:left; background-color:#99ff99">友情链接</span>
     <div style="clear:both;"></div>
   </div>
   <div style="width:100%;">
     <a href="#">Java web自学网</a>
	 <a href="#">Java web自学网</a>
	 <a href="#">Java web自学网</a>
	 <a href="#">Java web自学网</a>
	 <a href="#">Java web自学网</a>
	 <div style="clear:both;"></div>
   </div>
  <div style="clear:both;"></div>
</div>

<div style="width:1100px; margin:20px auto;">
   <span style="display:block; padding:10px; text-align:center;">
     2004-2016 www.javaxiangmu.cn All Rights Reserved. java香木瓜网 版权所有
   </span>
  <div style="clear:both;"></div>
</div></body>
</html>